import { Meta, Story, Preview } from "@storybook/addon-docs/blocks";
import * as PublishingStatus from "../publishing-status";
import * as Reach from "@reach/menu-button";
import "../../../planningcenter/reach/css/menu-button.css";

<Meta title="Church Center|Publishing Status/ProductLink" />

# ProductLink

`ProductLink` is a an anchor that gets `href` from `ViewController` context.

href value is on context for two reasons:

- The URL is shared between views and menu button items
- The value is nulified if `userIsOrgAdmin` is **falsy**

## Defaults

`SettingsLink` with `ViewController`

<Preview>
  <Story name="default">
    <PublishingStatus.ViewController
      churchCenterWebIsActive
      churchCenterProductURL="#"
    >
      <PublishingStatus.ProductLink />
    </PublishingStatus.ViewController>
  </Story>
</Preview>

## `children`

`children` are used to customize messaging.

<Preview>
  <Story name="children">
    <PublishingStatus.ViewController
      churchCenterWebIsActive
      churchCenterProductURL="#"
    >
      <PublishingStatus.ProductLink>
        Visit events list
      </PublishingStatus.ProductLink>
    </PublishingStatus.ViewController>
  </Story>
</Preview>

A `NewWindowIcon` is always present, regardless of `children`.

## `as`

`as` is used to integrate `ProductLink` into any dropdown library.

This example uses [Reach UI](https://reach.tech/menu-button) — [recommended by Global Design](https://planningcenter.design/react-recommended).

<Preview>
  <Story name="as">
    <Reach.Menu>
      <PublishingStatus.ViewController
        churchCenterWebIsActive
        churchCenterProductURL="#"
      >
        <PublishingStatus.ProductLink as={Reach.MenuItem}>
          Visit events list
        </PublishingStatus.ProductLink>
      </PublishingStatus.ViewController>
    </Reach.Menu>
  </Story>
</Preview>

## Custom Properties

`--publishing-status--product-link--color` controls `NewWindowIcon` color

<Preview>
  <Story name="custom properties">
    <PublishingStatus.ViewController
      churchCenterWebIsActive
      churchCenterProductURL="#"
    >
      <PublishingStatus.ProductLink
        style={{ "--publishing-status--product-link--color": "fuchsia" }}
      />
    </PublishingStatus.ViewController>
  </Story>
</Preview>
