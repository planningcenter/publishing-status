import { Meta, Story, Preview } from "@storybook/addon-docs/blocks";
import * as PublishingStatus from "../publishing-status";

<Meta title="Church Center|Publishing Status/ViewController" />

# ViewController

`ViewController` takes data, normalizes it, and provides it as Context to the other components.

It's most notibly consumed by `ViewSwitch`.

<Preview>
  <Story name="ViewController">
    <PublishingStatus.ViewController>
      <PublishingStatus.ViewSwitch />
    </PublishingStatus.ViewController>
  </Story>
</Preview>

## `settingsURL` and `userIsOrgAdmin`

`settingsURL` is guarded by `userIsOrgAdmin`.  
`settingsURL` is nullified where new `userIsOrgAdmin` is false

Example where `userIsOrgAdmin` is **falsy**:

<Preview>
  <Story name="settingsURL">
    <PublishingStatus.ViewController settingsURL="#">
      <PublishingStatus.ViewSwitch />
    </PublishingStatus.ViewController>
  </Story>
</Preview>

Example where `userIsOrgAdmin` is **truthy**:

<Preview>
  <Story name="settingsURL and userIsOrgAdmin">
    <PublishingStatus.ViewController settingsURL="#" userIsOrgAdmin>
      <PublishingStatus.ViewSwitch />
    </PublishingStatus.ViewController>
  </Story>
</Preview>

## `churchCenterProductURL`

`churchCenterProductURL` is guarded by `churchCenterWebIsActive`.  
`churchCenterProductURL` is nullified where new `churchCenterWebIsActive` is false

Example where `userIsOrgAdmin` is **falsy**:

<Preview>
  <Story name="churchCenterProductURL">
    <PublishingStatus.ViewController churchCenterProductURL="#">
      <PublishingStatus.ViewSwitch />
    </PublishingStatus.ViewController>
  </Story>
</Preview>

Example where `churchCenterWebIsActive` is **truthy**:

<Preview>
  <Story name="churchCenterProductURL and churchCenterWebIsActive">
    <PublishingStatus.ViewController churchCenterProductURL="#" chirchCenterWebIsActive>
      <PublishingStatus.ViewSwitch />
    </PublishingStatus.ViewController>
  </Story>
</Preview>

## ViewSwitch controlling props

- `productIsPublished`

## \*View controlling props

- `userIsOrgAdmin`

## StatusView controlling props

- `churchCenterIsEnabled`
- `churchCenterAppIsActive`
