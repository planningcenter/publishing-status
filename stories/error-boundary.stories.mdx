import { Meta, Story, Preview } from "@storybook/addon-docs/blocks";
import * as PublishingStatus from "../publishing-status";

<Meta title="Church Center|Publishing Status/ErrorBoundary" />

# ErrorBoundary and ErrorView

An error boundary is included for app-side composition.

It behaves like any error boundary but this one comes bundled with standard error messaging.

<Preview>
  <Story name="default">
    <PublishingStatus.ErrorBoundary>
      <PublishingStatus.ViewSwitch />
    </PublishingStatus.ErrorBoundary>
  </Story>
</Preview>

## `fallback`

`fallback` can be used to customize this messaging:

<Preview>
  <Story name="fallback">
    <PublishingStatus.ErrorBoundary
      fallback={
        <span>
          A <strong>custom</strong> error message
        </span>
      }
    >
      <PublishingStatus.ViewSwitch />
    </PublishingStatus.ErrorBoundary>
  </Story>
</Preview>

## ErrorView

`ErrorView` is provides a default message for apps an error boundary with error-reporting integration:

export const MyErrorBoundary = PublishingStatus.ErrorBoundary;

<Preview>
  <Story name="ErrorView">
    <MyErrorBoundary fallback={<PublishingStatus.ErrorView />}>
      <PublishingStatus.ViewSwitch />
    </MyErrorBoundary>
  </Story>
</Preview>
