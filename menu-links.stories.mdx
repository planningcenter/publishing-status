import { Meta, Story, Preview } from "@storybook/addon-docs/blocks";
import * as PublishingStatus from "./publishing-status";
import * as Reach from "@reach/menu-button";
import "../../planningcenter/reach/css/menu-button.css";

<Meta title="Church Center|Publishing Status/MenuLinks" />

# MenuLinks

`MenuLinks` hides and shows available links based on `ViewController` context.

`children` are displayed where these conditions are met:

- `view === "Status"`
- `churchCenterProductURL` or `settingsURL` are **truthy**.

## Defaults

When conditions aren't met:

<Preview>
  <Story name="hidden">
    <PublishingStatus.ViewController>
      <PublishingStatus.MenuLinks>
        <PublishingStatus.SettingsLink />
      </PublishingStatus.MenuLinks>
    </PublishingStatus.ViewController>
  </Story>
</Preview>

When conditions aren met:

<Preview>
  <Story name="shown">
    <PublishingStatus.ViewController
      churchCenterIsEnabled
      productIsPublished
      userIsOrgAdmin
      settingsURL="#"
    >
      <PublishingStatus.MenuLinks>
        <PublishingStatus.SettingsLink />
      </PublishingStatus.MenuLinks>
    </PublishingStatus.ViewController>
  </Story>
</Preview>

## `children`

`children` can be anything.  
This is handy for showing a horizontal rule only when

<Preview>
  <Story name="children">
    <PublishingStatus.ViewController
      churchCenterIsEnabled
      productIsPublished
      userIsOrgAdmin
      settingsURL="#"
    >
      View content
      <PublishingStatus.MenuLinks>
        <hr />
        <ul>
          <li>list</li>
          <li>items</li>
        </ul>
      </PublishingStatus.MenuLinks>
    </PublishingStatus.ViewController>
  </Story>
</Preview>

## `as`

TODO: description of as with Reach.MenuItem
defaults to `React.Fragment` (elements returned directly)

<Preview>
  <Story name="as">
    <Reach.Menu>
      <PublishingStatus.ViewController
        churchCenterIsEnabled
        productIsPublished
        userIsOrgAdmin
        settingsURL="#"
      >
        View content
        <PublishingStatus.MenuLinks>
          <hr />
          <PublishingStatus.SettingsLink as={Reach.MenuItem} />
          <PublishingStatus.SettingsLink as={Reach.MenuItem} />
        </PublishingStatus.MenuLinks>
      </PublishingStatus.ViewController>
    </Reach.Menu>
  </Story>
</Preview>
